<!DOCTYPE html>

<html lang="de">
<head>
    <meta charset="utf-8">
    <title>Blogs</title>
    <meta name="description" content="blogs">
    <link rel="stylesheet" type="text/css" href="mystyle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="./js/presenter.js"></script>
        <script src="./js/model.js"></script>
        <script src="./js/login.js"></script>
        <script src="./js/router.js"></script>
        <script src="./js/view.js"></script>
    <script>
        document.getElementById("time").innerHTML = document.lastModified;
    </script>
</head>

<body>
    <header id = "header-content">
        <img id = "logo" src = "/img/Logo.png">
        <button id= "logButton" class ="button">Anmelden</button>
    </header>

    <nav id = "main-nav" class = "crapper"></nav>

    <main id = "main-content" class = "main crapper"></main>
    <footer id = "footer-content">

        All Blogs are Bastards
        <p>Tyson und Aari ham dit jeschaukelt!</p>
        <p>This document was last modified <span id="time"></span>.</p>


    </footer>
</body>

    <div id="templates" hidden>

        <!-- ID = blogoverview
        current Blog
            $Blogname
            $PostAmount
            $Published
            $Updated
        -->
        <div id="blogoverview">
            <div class="blog-card">
                <small>Current Blog</small>
                <h3 class="blogname-card">%blogName</h3>
                <p>contains <span>%postsAmount</span> posts</p>
                <span>%Published [published] </span>
                <span> | </span>
                <span>%Updated [updated]</span>
                <nav></nav>
            </div>
        </div>

        <!-- ID = allBlogs class = allBlogs
                class = blogIntro   
                    $displayName       
                        class = blogList data-path = /allPosts/%blogId
                            $blogName
                            $postsAmount-->
        <div id="allBlogs" class="allBlogs">
            <p class="blogIntro">Hey <b>%displayName</b> letÂ´s get blogging!</p>
            <nav>
                <ul class="allBlogs__list">
                    <li class="btn btn--secondary" data-path="/allPosts/%blogId">%blogName | %postsAmount Posts</li>
                </ul>
            </nav>
        </div>

        <!-- ID = allPosts
            ul class = posts
                li class = post
                    article class = postContent
                        class = postTitle
                            $Title
                        class = postText
                            $Published
                            $Updated
                            $amountOfComments-->
        <div id="allPosts">
            <ul class="posts">
                <li class="post">
                    <article class="postContent">
                        <h4 class="postTitle">%title</h4>
                        <p class="postText">%Published [published]</p>
                        <p class="postText">%Updated [updated]</p>
                        <p class="postText">%amountOfComments Kommentare enthalten</p>
                        <nav></nav>
                    </article>
                </li>
            </ul>
        </div>

         <!-- ID = postOverviewButtons
                class = buttons
                    $Detail
                    $Update
                    $Delete-->

        <ul id="postOverviewbuttons" class="buttons">
            <li>
                <button data-path="/detail/%blogId/%postId" class="btn btn--primary">Detail</button>
            </li>
            <li>
                <button data-path="/edit/%blogId/%postId" class="btn btn--secondary">Update</button>
            </li>
            <li>
                <button data-id="%postId" data-action="deletePost" class="btn btn--danger">Delete</button>
            </li>
        </ul>

        <!-- ID = blogOverviewButtons
                class = buttons
                    $Go to blogger
                    $Add New Post-->

        <ul id="blogoverviewButtons" class="buttons">
            <li>
                <a href="%url" class="btn" target="_blank" rel="noopener noreferrer">
                    Go to blogger
                </a>
            </li>
            <li>
                <button class="btn btn--primary" data-path="/edit/%blogId">Add new Post</button>
            </li>
        </ul>


        <!-- ID = detail
                class = detail
                Header
                    class = blog-card
                        Current Post
                        $Title
                        $Published
                        $Updated
                            nav
                                class = buttons
                                    $Edit
                                    $Delete
                                    $Back to all Posts
                            nav 
                Header
                Content
                h3 class = desc
                    class = content
                        $Content
                        -->
        <div id="detail">
            <article class="detail">
                <header class="blog-card">
                    <small>Current Post</small>
                    <h1 class="caption">%title</h1>
                    <p class="date">published: %Published</p>
                    <p class="date">updated: %Updated</p>
                    <nav>
                        <ul class="buttons">
                            <li>
                                <button class="btn btn--primary" data-path="/edit/%blogId/%postId">
                                    Edit
                                </button>
                            </li>
                            <li>
                                <button class="btn btn--danger" data-id="%postId" data-action="deletePost" data-path="/allPosts/%blogId">
                                    Delete
                                </button>
                            </li>
                            <li>
                                <button class="btn" data-path="/allPosts/%blogId">
                                    Back to all posts
                                </button>
                            </li>
                        </ul>
                    </nav>
                </header>
                <h3 class="desc" >Content:</h3>
                <section class="content" >
                    %content
                </section>
            </article>
        </div>

        <!-- ID = comments
            h3 class  = desc
                class = commentList
                    class = comment
                        $author
                        class = date
                            $Published
                            $Content
                                nav
                                    class = navLeft
                                        class = button
                                            $Delete (comment)
                                nav-->
        <div id="comments">
            <h3 class="desc" >%amountOfComments comments:</h3>
            <ul class="commentList">
                <li class="comment">
                    <h3>%author</h3>
                    <p class="date">%Published</p>
                    <p>%content</p>
                    <nav class="navLeft">
                        <ul>
                            <li>
                                <button class="btn btn--danger" data-id="%commentId" data-action="deleteComment" data-path="/detail/%blogId/%postId">
                                    Delete
                                </button>
                            </li>
                        </ul>
                    </nav>
                </li>
            </ul>
        </div>

        <!-- Id = edit
                class = container
                    $Title
                    $Content
                        nav
                            class = buttons 
                                $Speichern
                                $Abbrechen
                        nav-->
        <div id="edit">
            <div class="container">
                <form name="postForm">
                    <ul>
                        <li>
                            <label for="pTitle">Title</label>
                            <input id="pTitle" type="text" name="pTitle"/>
                        </li>
                        <li>
                            <label for="content">Content</label>
                            <div id="content" name="content"  type="text" contenteditable="true" class="postFormContent">
                                %content
                            </div>
                        </li>
                        <li>
                            <nav class="buttons">
                                <button type="submit" value="save" class="btn btn--primary" data-path="">Speichern</button>
                                <button type="button" value="cancel" class="btn btn--secondary" data-path="">Abbrechen</button>
                            </nav>
                        </li>
                    </ul>
                </form>
            </div>
        </div>

        <!-- ID = noContent
                class = info danger
                    no Content.-->
        <div id="noContent">
            <h3 class="info danger"> Es sind keine Kommentare in dem Post enthalten</h3>
        </div>

    </div>


    

    